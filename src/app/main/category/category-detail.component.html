<div class="category-detail">
    <!-- Hiển thị thông báo lỗi nếu có -->
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>
  
    <!-- Hiển thị thông tin chi tiết danh mục -->
    <div *ngIf="category" class="category-info">
      <h2>{{ category.name }}</h2>
  
      <!-- Hiển thị danh sách sản phẩm trong danh mục -->
      <div *ngIf="category.products.length > 0; else noProducts" class="row">
        <div class="col-md-4 mb-4" *ngFor="let product of category.products">
          <div class="product-card card shadow-sm">
            <div class="product-images">
              <!-- Hiển thị ảnh sản phẩm -->
              <img 
                [src]="product.image1 || 'assets/default-image.jpg'" 
                alt="{{ product.name }}" 
                class="card-img-top" 
                style="height: 200px; object-fit: cover;" />
            </div>
  
            <div class="card-body">
              <h5 class="product-name">{{ product.name }}</h5>
              <p class="product-price">{{ product.price | currencyFormat }}</p>
              <!-- <p *ngIf="product.isHot" class="badge bg-danger">Sản phẩm nổi bật</p> -->
  
              <div class="d-flex justify-content-between mt-3">
                <!-- Nút xem chi tiết sản phẩm -->
                <button class="btn btn-primary" (click)="viewProductDetails(product.id)">
                  Xem chi tiết
                </button>
                <!-- Nút thêm vào giỏ hàng -->
                <button class="btn btn-success" (click)="addToCart(product.id)">
                  Thêm vào giỏ hàng
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
  
      <!-- Phân trang -->
      <div class="d-flex justify-content-between align-items-center mt-3">
        <div>
          Hiển thị từ {{ startDisplay }} đến {{ endDisplay }} trên tổng số {{ totalProducts }} sản phẩm
        </div>
  
        <nav>
          <ul class="pagination">
            <li class="page-item" [class.disabled]="currentPage === 1">
              <button class="page-link" (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">
                Trước
              </button>
            </li>
  
            <li class="page-item" *ngFor="let page of pages" [class.active]="page === currentPage">
              <button class="page-link" (click)="changePage(page)">{{ page }}</button>
            </li>
  
            <li class="page-item" [class.disabled]="currentPage === totalPages">
              <button class="page-link" (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages">
                Sau
              </button>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  
    <!-- Mẫu khi không có sản phẩm trong danh mục -->
    <ng-template #noProducts>
      <p>Không có sản phẩm trong danh mục này.</p>
    </ng-template>
  </div>
  